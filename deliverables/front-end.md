# Node-red Front-End

Als u deze workflow importeert in uw node-red applicatie, kan u onze workflow nabootsen. Dit kan door middel van ctrl + i te duwen als u in de UI van Node-Red zit en dit te plakken in het voorbestemde vak.

    [
        {
            "id": "81e58bd.8770378",
            "type": "tab",
            "label": "Flow 1",
            "disabled": false,
            "info": ""
        },
        {
            "id": "ef9d508c.2efa9",
            "type": "ui_chart",
            "z": "81e58bd.8770378",
            "name": "Temperature",
            "group": "5e4c9933.dffff8",
            "order": 2,
            "width": 7,
            "height": 6,
            "label": "Temperature",
            "chartType": "line",
            "legend": "false",
            "xformat": "HH:mm",
            "interpolate": "linear",
            "nodata": "",
            "dot": false,
            "ymin": "-40",
            "ymax": "125",
            "removeOlder": 1,
            "removeOlderPoints": "",
            "removeOlderUnit": "604800",
            "cutout": 0,
            "useOneColor": false,
            "useUTC": false,
            "colors": [
                "#1f77b4",
                "#ff0000",
                "#ff7f0e",
                "#2ca02c",
                "#98df8a",
                "#d62728",
                "#ff9896",
                "#9467bd",
                "#c5b0d5"
            ],
            "outputs": 1,
            "useDifferentColor": false,
            "x": 1170,
            "y": 200,
            "wires": [
                []
            ]
        },
        {
            "id": "80055958.42ccd8",
            "type": "function",
            "z": "81e58bd.8770378",
            "name": "averagePerYear",
            "func": "// determines the average of all payload values passed in \n// over the specified time range\nconst range = 365 * 24 * 60 * 60 * 1000;   // window time millisecs\nlet buffer = context.get('buffer') || [];\nlet total = context.get('total') || 0;   // the accumulated total so far\n\nlet now = new Date();\nlet value = Number(msg.payload);\n// remove any samples that are too old\nwhile (buffer[0] && buffer[0].timestamp < now - range) {\n    // remove oldest sample from array and total\n    node.warn(`removing oldest ${buffer[0].timestamp}`);\n    total -= buffer[0].value;\n    buffer.shift();\n}\n// add the new sample to the end\nbuffer.push({timestamp: now, value: value});\ntotal += value;\n\ncontext.set('buffer', buffer);\ncontext.set('total', total);\nmsg.topic = 'Average'\nmsg.payload = Math.round((total/buffer.length) * 10) / 10;\nreturn msg;",
            "outputs": 1,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "x": 900,
            "y": 80,
            "wires": [
                [
                    "9b974d5d.a5306",
                    "ce7e06f4.7496d8"
                ]
            ]
        },
        {
            "id": "7a7c53e7.9bcd9c",
            "type": "function",
            "z": "81e58bd.8770378",
            "name": "averagePM10",
            "func": "// determines the average of all payload values passed in \n// over the specified time range\nconst range = 365 * 24 * 60 * 60 * 1000;   // window time millisecs\nlet buffer = context.get('buffer') || [];\nlet total = context.get('total') || 0;   // the accumulated total so far\n\nlet now = new Date();\nlet value = Number(msg.payload);\n// remove any samples that are too old\nwhile (buffer[0] && buffer[0].timestamp < now - range) {\n    // remove oldest sample from array and total\n    node.warn(`removing oldest ${buffer[0].timestamp}`);\n    total -= buffer[0].value;\n    buffer.shift();\n}\n// add the new sample to the end\nbuffer.push({timestamp: now, value: value});\ntotal += value;\n\ncontext.set('buffer', buffer);\ncontext.set('total', total);\nmsg.topic = 'Average'\nmsg.payload = Math.round((total/buffer.length) * 10) / 10;\nreturn msg;",
            "outputs": 1,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "x": 900,
            "y": 640,
            "wires": [
                [
                    "c1ef21e2.80cef",
                    "5649c0c2.933ad"
                ]
            ]
        },
        {
            "id": "cefdefad.5bd73",
            "type": "function",
            "z": "81e58bd.8770378",
            "name": "averageHumidity",
            "func": "// determines the average of all payload values passed in \n// over the specified time range\nconst range = 365 * 24 * 60 * 60 * 1000;   // window time millisecs\nlet buffer = context.get('buffer') || [];\nlet total = context.get('total') || 0;   // the accumulated total so far\n\nlet now = new Date();\nlet value = Number(msg.payload);\n// remove any samples that are too old\nwhile (buffer[0] && buffer[0].timestamp < now - range) {\n    // remove oldest sample from array and total\n    node.warn(`removing oldest ${buffer[0].timestamp}`);\n    total -= buffer[0].value;\n    buffer.shift();\n}\n// add the new sample to the end\nbuffer.push({timestamp: now, value: value});\ntotal += value;\n\ncontext.set('buffer', buffer);\ncontext.set('total', total);\nmsg.topic = 'Average'\nmsg.payload = Math.round((total/buffer.length) * 10) / 10;\nreturn msg;",
            "outputs": 1,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "x": 910,
            "y": 360,
            "wires": [
                [
                    "eaa46224.9b2db",
                    "92f7c5b4.219818"
                ]
            ]
        },
        {
            "id": "c3347165.391bc",
            "type": "ui_chart",
            "z": "81e58bd.8770378",
            "name": "Dust PM10",
            "group": "5e4c9933.dffff8",
            "order": 3,
            "width": 7,
            "height": 6,
            "label": "Dust PM10",
            "chartType": "line",
            "legend": "false",
            "xformat": "HH:mm",
            "interpolate": "linear",
            "nodata": "",
            "dot": false,
            "ymin": "0",
            "ymax": "200",
            "removeOlder": 1,
            "removeOlderPoints": "",
            "removeOlderUnit": "604800",
            "cutout": 0,
            "useOneColor": false,
            "useUTC": false,
            "colors": [
                "#1f77b4",
                "#ff0000",
                "#ff7f0e",
                "#2ca02c",
                "#98df8a",
                "#d62728",
                "#ff9896",
                "#9467bd",
                "#c5b0d5"
            ],
            "outputs": 1,
            "useDifferentColor": false,
            "x": 1170,
            "y": 760,
            "wires": [
                []
            ]
        },
        {
            "id": "d4a8ae7c.99a1f",
            "type": "ui_gauge",
            "z": "81e58bd.8770378",
            "name": "Dust PM10",
            "group": "4d330936.ed6198",
            "order": 3,
            "width": 7,
            "height": 5,
            "gtype": "gage",
            "title": "Dust PM10",
            "label": "units",
            "format": "{{value}}",
            "min": 0,
            "max": "100",
            "colors": [
                "#00b500",
                "#e6e600",
                "#ca3838"
            ],
            "seg1": "",
            "seg2": "",
            "x": 1170,
            "y": 820,
            "wires": []
        },
        {
            "id": "1edf37ea.18c308",
            "type": "ui_chart",
            "z": "81e58bd.8770378",
            "name": "Humidity",
            "group": "5e4c9933.dffff8",
            "order": 5,
            "width": 7,
            "height": 6,
            "label": "Humidity",
            "chartType": "line",
            "legend": "false",
            "xformat": "HH:mm",
            "interpolate": "linear",
            "nodata": "",
            "dot": false,
            "ymin": "0",
            "ymax": "100",
            "removeOlder": 1,
            "removeOlderPoints": "",
            "removeOlderUnit": "604800",
            "cutout": 0,
            "useOneColor": false,
            "useUTC": false,
            "colors": [
                "#1f77b4",
                "#ff0000",
                "#ff7f0e",
                "#2ca02c",
                "#98df8a",
                "#d62728",
                "#ff9896",
                "#9467bd",
                "#c5b0d5"
            ],
            "outputs": 1,
            "useDifferentColor": false,
            "x": 1160,
            "y": 480,
            "wires": [
                []
            ]
        },
        {
            "id": "363692ae.a2c18e",
            "type": "ui_gauge",
            "z": "81e58bd.8770378",
            "name": "Humidity",
            "group": "4d330936.ed6198",
            "order": 5,
            "width": 7,
            "height": 5,
            "gtype": "gage",
            "title": "Humidity",
            "label": "%",
            "format": "{{value}}",
            "min": "0",
            "max": "100",
            "colors": [
                "#00b500",
                "#e6e600",
                "#ca3838"
            ],
            "seg1": "33",
            "seg2": "67",
            "x": 1160,
            "y": 540,
            "wires": []
        },
        {
            "id": "99e45aac.fe8368",
            "type": "ui_gauge",
            "z": "81e58bd.8770378",
            "name": "",
            "group": "4d330936.ed6198",
            "order": 2,
            "width": 7,
            "height": 5,
            "gtype": "gage",
            "title": "Temperature",
            "label": "°C",
            "format": "{{value}}",
            "min": "-40",
            "max": "125",
            "colors": [
                "#0f37ff",
                "#17c814",
                "#ca3838"
            ],
            "seg1": "10",
            "seg2": "40",
            "x": 1170,
            "y": 260,
            "wires": []
        },
        {
            "id": "22f7bbe0.b4ed4c",
            "type": "ttn uplink",
            "z": "81e58bd.8770378",
            "name": "",
            "app": "bd31f25.03b1f1",
            "dev_id": "",
            "field": "",
            "x": 400,
            "y": 620,
            "wires": [
                [
                    "8a3bdea7.ff571",
                    "c6ccd5d3.a027a8",
                    "f6bf2dff.4747a",
                    "fa4e29b3.923fe8"
                ]
            ]
        },
        {
            "id": "8a3bdea7.ff571",
            "type": "function",
            "z": "81e58bd.8770378",
            "name": "parseDustPM10",
            "func": "msg.payload = msg.payload[2].toString() + \".\" + msg.payload[3].toString();\nmsg.payload = parseFloat(msg.payload);\nreturn msg;",
            "outputs": 1,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "x": 620,
            "y": 760,
            "wires": [
                [
                    "7a7c53e7.9bcd9c",
                    "c3347165.391bc",
                    "d4a8ae7c.99a1f"
                ]
            ]
        },
        {
            "id": "c6ccd5d3.a027a8",
            "type": "function",
            "z": "81e58bd.8770378",
            "name": "parseHumidity",
            "func": "msg.payload = msg.payload[1];\nreturn msg;",
            "outputs": 1,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "x": 620,
            "y": 480,
            "wires": [
                [
                    "cefdefad.5bd73",
                    "1edf37ea.18c308",
                    "363692ae.a2c18e"
                ]
            ]
        },
        {
            "id": "f6bf2dff.4747a",
            "type": "function",
            "z": "81e58bd.8770378",
            "name": "parseTemperature",
            "func": "msg.payload = Math.round((((msg.payload[0] / 255) * 165) - 40) * 10) / 10;\nreturn msg;",
            "outputs": 1,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "x": 630,
            "y": 200,
            "wires": [
                [
                    "ef9d508c.2efa9",
                    "80055958.42ccd8",
                    "99e45aac.fe8368"
                ]
            ]
        },
        {
            "id": "fa4e29b3.923fe8",
            "type": "function",
            "z": "81e58bd.8770378",
            "name": "parseDustPM25",
            "func": "msg.payload = msg.payload[4].toString() + \".\" + msg.payload[5].toString();\nmsg.payload = parseFloat(msg.payload);\nreturn msg;",
            "outputs": 1,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "x": 620,
            "y": 1040,
            "wires": [
                [
                    "b302304f.aa643",
                    "d80b5814.e6e268",
                    "17e0090d.03ae37"
                ]
            ]
        },
        {
            "id": "b302304f.aa643",
            "type": "function",
            "z": "81e58bd.8770378",
            "name": "averagePM10",
            "func": "// determines the average of all payload values passed in \n// over the specified time range\nconst range = 365 * 24 * 60 * 60 * 1000;   // window time millisecs\nlet buffer = context.get('buffer') || [];\nlet total = context.get('total') || 0;   // the accumulated total so far\n\nlet now = new Date();\nlet value = Number(msg.payload);\n// remove any samples that are too old\nwhile (buffer[0] && buffer[0].timestamp < now - range) {\n    // remove oldest sample from array and total\n    node.warn(`removing oldest ${buffer[0].timestamp}`);\n    total -= buffer[0].value;\n    buffer.shift();\n}\n// add the new sample to the end\nbuffer.push({timestamp: now, value: value});\ntotal += value;\n\ncontext.set('buffer', buffer);\ncontext.set('total', total);\nmsg.topic = 'Average'\nmsg.payload = Math.round((total/buffer.length) * 10) / 10;\nreturn msg;",
            "outputs": 1,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "x": 900,
            "y": 920,
            "wires": [
                [
                    "89c9fecd.b724",
                    "6029600a.75d09"
                ]
            ]
        },
        {
            "id": "d80b5814.e6e268",
            "type": "ui_chart",
            "z": "81e58bd.8770378",
            "name": "Dust PM25",
            "group": "5e4c9933.dffff8",
            "order": 4,
            "width": 7,
            "height": 6,
            "label": "Dust PM25",
            "chartType": "line",
            "legend": "false",
            "xformat": "HH:mm",
            "interpolate": "linear",
            "nodata": "",
            "dot": false,
            "ymin": "0",
            "ymax": "200",
            "removeOlder": 1,
            "removeOlderPoints": "",
            "removeOlderUnit": "604800",
            "cutout": 0,
            "useOneColor": false,
            "useUTC": false,
            "colors": [
                "#1f77b4",
                "#ff0000",
                "#ff7f0e",
                "#2ca02c",
                "#98df8a",
                "#d62728",
                "#ff9896",
                "#9467bd",
                "#c5b0d5"
            ],
            "outputs": 1,
            "useDifferentColor": false,
            "x": 1170,
            "y": 1040,
            "wires": [
                []
            ]
        },
        {
            "id": "17e0090d.03ae37",
            "type": "ui_gauge",
            "z": "81e58bd.8770378",
            "name": "Dust PM25",
            "group": "4d330936.ed6198",
            "order": 4,
            "width": 7,
            "height": 5,
            "gtype": "gage",
            "title": "Dust PM25",
            "label": "units",
            "format": "{{value}}",
            "min": 0,
            "max": "100",
            "colors": [
                "#00b500",
                "#e6e600",
                "#ca3838"
            ],
            "seg1": "",
            "seg2": "",
            "x": 1170,
            "y": 1100,
            "wires": []
        },
        {
            "id": "9b974d5d.a5306",
            "type": "ui_chart",
            "z": "81e58bd.8770378",
            "name": "Temperature",
            "group": "b820dbb3.0c36d8",
            "order": 2,
            "width": 7,
            "height": 6,
            "label": "Temperature",
            "chartType": "line",
            "legend": "false",
            "xformat": "HH:mm",
            "interpolate": "linear",
            "nodata": "",
            "dot": false,
            "ymin": "-40",
            "ymax": "125",
            "removeOlder": 1,
            "removeOlderPoints": "",
            "removeOlderUnit": "604800",
            "cutout": 0,
            "useOneColor": false,
            "useUTC": false,
            "colors": [
                "#ff0000",
                "#0000ff",
                "#ff7f0e",
                "#2ca02c",
                "#98df8a",
                "#d62728",
                "#ff9896",
                "#9467bd",
                "#c5b0d5"
            ],
            "outputs": 1,
            "useDifferentColor": false,
            "x": 1170,
            "y": 80,
            "wires": [
                []
            ]
        },
        {
            "id": "ce7e06f4.7496d8",
            "type": "ui_gauge",
            "z": "81e58bd.8770378",
            "name": "",
            "group": "c42b42c4.2f541",
            "order": 2,
            "width": 7,
            "height": 5,
            "gtype": "gage",
            "title": "Temperature",
            "label": "°C",
            "format": "{{value}}",
            "min": "-40",
            "max": "125",
            "colors": [
                "#0f37ff",
                "#17c814",
                "#ca3838"
            ],
            "seg1": "10",
            "seg2": "40",
            "x": 1170,
            "y": 140,
            "wires": []
        },
        {
            "id": "eaa46224.9b2db",
            "type": "ui_chart",
            "z": "81e58bd.8770378",
            "name": "Humidity",
            "group": "b820dbb3.0c36d8",
            "order": 5,
            "width": 7,
            "height": 6,
            "label": "Humidity",
            "chartType": "line",
            "legend": "false",
            "xformat": "HH:mm",
            "interpolate": "linear",
            "nodata": "",
            "dot": false,
            "ymin": "0",
            "ymax": "100",
            "removeOlder": 1,
            "removeOlderPoints": "",
            "removeOlderUnit": "604800",
            "cutout": 0,
            "useOneColor": false,
            "useUTC": false,
            "colors": [
                "#ff0000",
                "#0000ff",
                "#ff7f0e",
                "#2ca02c",
                "#98df8a",
                "#d62728",
                "#ff9896",
                "#9467bd",
                "#c5b0d5"
            ],
            "outputs": 1,
            "useDifferentColor": false,
            "x": 1160,
            "y": 360,
            "wires": [
                []
            ]
        },
        {
            "id": "92f7c5b4.219818",
            "type": "ui_gauge",
            "z": "81e58bd.8770378",
            "name": "Humidity",
            "group": "c42b42c4.2f541",
            "order": 5,
            "width": 7,
            "height": 5,
            "gtype": "gage",
            "title": "Humidity",
            "label": "%",
            "format": "{{value}}",
            "min": "0",
            "max": "100",
            "colors": [
                "#00b500",
                "#e6e600",
                "#ca3838"
            ],
            "seg1": "33",
            "seg2": "67",
            "x": 1160,
            "y": 420,
            "wires": []
        },
        {
            "id": "c1ef21e2.80cef",
            "type": "ui_chart",
            "z": "81e58bd.8770378",
            "name": "Dust PM10",
            "group": "b820dbb3.0c36d8",
            "order": 3,
            "width": 7,
            "height": 6,
            "label": "Dust PM10",
            "chartType": "line",
            "legend": "false",
            "xformat": "HH:mm",
            "interpolate": "linear",
            "nodata": "",
            "dot": false,
            "ymin": "0",
            "ymax": "200",
            "removeOlder": 1,
            "removeOlderPoints": "",
            "removeOlderUnit": "604800",
            "cutout": 0,
            "useOneColor": false,
            "useUTC": false,
            "colors": [
                "#ff0000",
                "#0000ff",
                "#ff7f0e",
                "#2ca02c",
                "#98df8a",
                "#d62728",
                "#ff9896",
                "#9467bd",
                "#c5b0d5"
            ],
            "outputs": 1,
            "useDifferentColor": false,
            "x": 1170,
            "y": 640,
            "wires": [
                []
            ]
        },
        {
            "id": "5649c0c2.933ad",
            "type": "ui_gauge",
            "z": "81e58bd.8770378",
            "name": "Dust PM10",
            "group": "c42b42c4.2f541",
            "order": 3,
            "width": 7,
            "height": 5,
            "gtype": "gage",
            "title": "Dust PM10",
            "label": "units",
            "format": "{{value}}",
            "min": 0,
            "max": "100",
            "colors": [
                "#00b500",
                "#e6e600",
                "#ca3838"
            ],
            "seg1": "",
            "seg2": "",
            "x": 1170,
            "y": 700,
            "wires": []
        },
        {
            "id": "89c9fecd.b724",
            "type": "ui_chart",
            "z": "81e58bd.8770378",
            "name": "Dust PM25",
            "group": "b820dbb3.0c36d8",
            "order": 4,
            "width": 7,
            "height": 6,
            "label": "Dust PM25",
            "chartType": "line",
            "legend": "false",
            "xformat": "HH:mm",
            "interpolate": "linear",
            "nodata": "",
            "dot": false,
            "ymin": "0",
            "ymax": "200",
            "removeOlder": 1,
            "removeOlderPoints": "",
            "removeOlderUnit": "604800",
            "cutout": 0,
            "useOneColor": false,
            "useUTC": false,
            "colors": [
                "#ff0000",
                "#0000ff",
                "#ff7f0e",
                "#2ca02c",
                "#98df8a",
                "#d62728",
                "#ff9896",
                "#9467bd",
                "#c5b0d5"
            ],
            "outputs": 1,
            "useDifferentColor": false,
            "x": 1170,
            "y": 920,
            "wires": [
                []
            ]
        },
        {
            "id": "6029600a.75d09",
            "type": "ui_gauge",
            "z": "81e58bd.8770378",
            "name": "Dust PM25",
            "group": "c42b42c4.2f541",
            "order": 4,
            "width": 7,
            "height": 5,
            "gtype": "gage",
            "title": "Dust PM25",
            "label": "units",
            "format": "{{value}}",
            "min": 0,
            "max": "100",
            "colors": [
                "#00b500",
                "#e6e600",
                "#ca3838"
            ],
            "seg1": "",
            "seg2": "",
            "x": 1170,
            "y": 980,
            "wires": []
        },
        {
            "id": "5e4c9933.dffff8",
            "type": "ui_group",
            "name": "History",
            "tab": "4cdb3a47.0d4584",
            "order": 2,
            "disp": true,
            "width": 30,
            "collapse": false
        },
        {
            "id": "4d330936.ed6198",
            "type": "ui_group",
            "name": "Live",
            "tab": "4cdb3a47.0d4584",
            "order": 1,
            "disp": true,
            "width": 30,
            "collapse": false
        },
        {
            "id": "bd31f25.03b1f1",
            "type": "ttn app",
            "appId": "airqualitysensor2",
            "accessKey": "ttn-account-v2.v9Tu6mBY1dR6bC9MVwx01cSPrirY1GMArpJs-s3L8Qs",
            "discovery": "discovery.thethingsnetwork.org:1900"
        },
        {
            "id": "b820dbb3.0c36d8",
            "type": "ui_group",
            "name": "Chart",
            "tab": "d8c5c0f4.0940d",
            "order": 1,
            "disp": true,
            "width": 30,
            "collapse": false
        },
        {
            "id": "c42b42c4.2f541",
            "type": "ui_group",
            "name": "Gauge",
            "tab": "d8c5c0f4.0940d",
            "order": 2,
            "disp": true,
            "width": 30,
            "collapse": false
        },
        {
            "id": "4cdb3a47.0d4584",
            "type": "ui_tab",
            "name": "Live",
            "icon": "play_arrow",
            "disabled": false,
            "hidden": false
        },
        {
            "id": "d8c5c0f4.0940d",
            "type": "ui_tab",
            "name": "Average",
            "icon": "fast_rewind",
            "order": 2,
            "disabled": false,
            "hidden": false
        }
    ]